{
  "version": 1,
  "platform": "swisslifeone",
  "slug": "swisslifeone_slsis_inspect",
  "name": "SwissLifeOne - SLSIS Inspection (Mode Manuel)",
  "trace": "retain-on-failure",
  "steps": [
    { "type": "goto", "url": "https://www.swisslifeone.fr/", "label": "accueil" },
    { "type": "waitForField", "field": "login_button_home", "label": "wait-login-button" },
    { "type": "clickField", "field": "login_button_home", "label": "click-login-button" },
    { "type": "sleep", "timeout_ms": 2000, "label": "wait-sso-load" },
    { "type": "waitForField", "field": "login_username", "label": "wait-sso-form" },
    { "type": "fillField", "field": "login_username", "value": "{credentials.username}", "label": "fill-user" },
    { "type": "fillField", "field": "login_password", "value": "{credentials.password}", "label": "fill-pass" },
    { "type": "clickField", "field": "login_submit", "label": "submit" },
    { "type": "waitForNetworkIdle", "label": "wait-post-login", "timeout_ms": 30000 },
    { "type": "clickField", "field": "cookie_tout_autoriser", "label": "accept-cookies", "optional": true },
    { "type": "sleep", "timeout_ms": 1000, "label": "wait-after-cookies" },

    { "type": "goto", "url": "https://www.swisslifeone.fr/index-swisslifeOne.html#/tarification-et-simulation/slsis", "label": "goto-slsis-page" },
    { "type": "sleep", "timeout_ms": 3000, "label": "wait-slsis-load" },

    { "type": "clickField", "field": "cookie_tout_autoriser", "label": "accept-cookies-page", "optional": true },
    { "type": "sleep", "timeout_ms": 2000, "label": "wait-iframe-fully-loaded" },

    { "type": "comment", "text": "POINT D'ARRÃŠT - Navigateur restera ouvert pour inspection manuelle" },
    { "type": "sleep", "timeout_ms": 999999, "label": "PAUSE-POUR-INSPECTION-MANUELLE" }
  ]
}
