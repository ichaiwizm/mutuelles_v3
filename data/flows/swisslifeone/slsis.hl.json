{
  "platform": "swisslifeone",
  "slug": "slsis",
  "name": "SwissLifeOne - SLSIS",
  "description": "SwissLifeOne SLSIS Flow - Simplified version",
  "steps": [
    {
      "type": "comment",
      "text": "=== LOGIN ==="
    },
    {
      "type": "goto",
      "url": "https://www.swisslifeone.fr/",
      "label": "Navigate to SwissLifeOne"
    },
    {
      "type": "sleep",
      "ms": 2000,
      "label": "Wait for page load"
    },
    {
      "type": "waitField",
      "field": "auth.loginButton",
      "label": "Wait for login button"
    },
    {
      "type": "click",
      "field": "auth.loginButton",
      "label": "Click login button"
    },
    {
      "type": "sleep",
      "ms": 2000,
      "label": "Wait for SSO form"
    },
    {
      "type": "waitField",
      "field": "auth.username",
      "label": "Wait for username field"
    },
    {
      "type": "fill",
      "field": "auth.username",
      "value": "{credentials.username}",
      "label": "Fill username"
    },
    {
      "type": "fill",
      "field": "auth.password",
      "value": "{credentials.password}",
      "label": "Fill password"
    },
    {
      "type": "click",
      "field": "auth.submit",
      "label": "Submit login"
    },
    {
      "type": "sleep",
      "ms": 5000,
      "label": "Wait for post-login"
    },
    {
      "type": "click",
      "field": "consent.acceptAll",
      "optional": true,
      "label": "Accept cookies"
    },
    {
      "type": "comment",
      "text": "=== NAVIGATE TO SLSIS ==="
    },
    {
      "type": "goto",
      "url": "https://www.swisslifeone.fr/index-swisslifeOne.html#/tarification-et-simulation/slsis",
      "label": "Go to SLSIS page"
    },
    {
      "type": "sleep",
      "ms": 2000,
      "label": "Wait for SLSIS page"
    },
    {
      "type": "enterFrame",
      "selector": "iframe[name='iFrameTarificateur']",
      "label": "Enter SLSIS iframe"
    },
    {
      "type": "sleep",
      "ms": 1000,
      "label": "Wait for iframe ready"
    },
    {
      "type": "comment",
      "text": "=== FILL SUBSCRIBER INFO ==="
    },
    {
      "type": "fill",
      "field": "subscriber.birthDate",
      "label": "Fill birth date"
    },
    {
      "type": "select",
      "field": "subscriber.regime",
      "label": "Select regime"
    },
    {
      "type": "select",
      "field": "subscriber.status",
      "label": "Select status"
    },
    {
      "type": "select",
      "field": "subscriber.profession",
      "label": "Select profession"
    },
    {
      "type": "fill",
      "field": "subscriber.postalCode",
      "label": "Fill postal code"
    },
    {
      "type": "comment",
      "text": "=== COMPLETE ==="
    },
    {
      "type": "sleep",
      "ms": 2000,
      "label": "Wait before completing"
    }
  ]
}
