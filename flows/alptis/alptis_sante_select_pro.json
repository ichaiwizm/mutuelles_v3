{
  "version": 1,
  "platform": "alptis",
  "slug": "alptis_sante_select_pro",
  "name": "Alptis Santé Select – Informations projet",
  "active": true,
  "steps": [
    {
      "type": "goto",
      "url": "https://pro.alptis.org/",
      "screenshot_label": "accueil",
      "timeout_ms": 15000
    },
    {
      "type": "waitFor",
      "selector": "#username",
      "screenshot_label": "login-form",
      "timeout_ms": 10000
    },
    {
      "type": "fill",
      "selector": "#username",
      "value": "{username}",
      "screenshot_label": "fill-user"
    },
    {
      "type": "fill",
      "selector": "#password",
      "value": "{password}",
      "screenshot_label": "fill-pass"
    },
    {
      "type": "click",
      "selector": "button[type=\"submit\"]",
      "screenshot_label": "submit"
    },
    {
      "type": "goto",
      "url": "https://pro.alptis.org/sante-select/informations-projet/",
      "screenshot_label": "goto-infos-projet"
    },
    {
      "type": "waitFor",
      "selector": "#axeptio_overlay #axeptio_btn_acceptAll",
      "screenshot_label": "axeptio-visible",
      "timeout_ms": 2500
    },
    {
      "type": "tryClick",
      "selector": "#axeptio_overlay #axeptio_btn_acceptAll",
      "screenshot_label": "accept-axeptio",
      "timeout_ms": 1500
    },
    {
      "type": "waitFor",
      "selector": ".page-layout.informations-projet",
      "screenshot_label": "infos-projet-ready",
      "timeout_ms": 10000
    },
    {
      "type": "assertText",
      "selector": "h1.title-page",
      "assert_text": "Nouveau projet Santé Select",
      "screenshot_label": "assert-titre"
    },
    {
      "type": "screenshot",
      "screenshot_label": "page-infos-projet"
    }
  ]
}
